# 리눅스 커맨드 라인 툴

## 01. 강좌소개

### 강좌 로드맵

#### 텍스트 처리

head, tail, wc, nl, sort, uniq, cut, tr, sed, awk

#### 검색

find, grep, aprops, locate, which

#### 시스템 정보

ps, top, lsof, netstat, sysctl

#### 텍스트 편집기

vim

#### 개발 도구

diff, patch, cscope, ctags, strace, gdb, valgrind



## 02. head

### 설명

- 문서 내용의 앞부분 출력

- 아무 옵션이 없으면 앞에서 10줄 출력

  

### 자주 사용되는 옵션

- -c, --bytes=[-]NUM   

  - NUM byte만출력

- -n, --lines=[-]NUM

  - NUM line만 출력

- NUM

  - byte입력 시 K,M,G,T 입력 가능( 예 : 10M )

  - '**-**'입력 시 문서의 마지막 NUM byte/line을 제외하고 출력

    

### 사용예제

- head /etc/passwd      // `cat /etc/passwd | head` 와 같음
- head –n **1** /etc/passwd    // 첫 줄만 출력
- cat /etc/passwd | head –n **15**       // 앞에서 15줄 출력
- cat /etc/passwd | head –n **-5**       // 끝에서 5줄을 빼고 출력



## 03. tail

### 설명

- 문서 내용의 뒷부분 출력

- 아무 옵션이 없으면 끝에서 10줄 출력

  

### 자주 사용되는 옵션

- -c, --bytes=[+]NUM   

  - NUM byte만출력

- -n, --lines=[+]NUM

  - NUM line만 출력

- NUM

  - byte입력 시 K,M,G,T 입력 가능( 예 : 10M )

  - '+'입력 시 문서의 시작의NUM byte/line(포함) 지점부터 출력

    

### **모니터링 옵션**

- -f, --follow [={name|descr}]   

  - 추가되는 내용 대기. 추가되는 내용은 append하여 출력

- -F

  - 파일이 truncate 되는 경우 re-open하여 follw함(logrotate되는 파일에 유용)

    

### 사용예제

- tail /etc/passwd     // cat /etc/passwd | tail와 같음
- tail /etc/passwd -n +5    //앞에서 4줄을 빼고 출력(5번째 줄부터 출력)
- cat /etc/passwd | tail –n 15       // 뒤에서 15줄 출력
- cat /etc/passwd | tail –n **+5**       // 앞에서 4줄을 빼고 출력(5번째 줄부터 출력)
- tail aa -f 를 하면, aa에 어떠한 데이터가 추가되는 것을 실시간으로 출력해준다. 단, 파일이 삭제되고 다시 생성된다면, 삭제되는 순간부터 모니터링은 되지 않는다.
- tail aa -F를 하면, aa에 어떠한 데이터가 추가되는 것을 실시간으로 출력해준다. 대문자 F를 사용하면 파일 삭제, 재생성, 파일대체(덮어쓰기)를 감지하고 aa이름을 가진 파일의 변경사항을 모니터링 해준다.

![img](https://i.imgur.com/OsU1ShL.png)



## 04. wc

### 설명

- word count

- 기본적으로 문서의 line / word / byte(char) count 출력

  

### 자주 사용되는 옵션

- -l   : 라인수만 출력



### 사용예제

- wc FILENAME
- wc FILENAME1 FILENAME2 FILENAME3  # 3개의 파일 정보
- wc -l FILENAME
- cat FILENAME | wc –l     # stdin으로부터 라인수만 획득
- wc -l FILENAME | cut -d ' ' -f 1     # 라인수만 획득
- wc –l FILENAME | awk ‘{ print $1 }’     # 라인수만 획득 (파일명은 보이지 않음) : 공백을 기준으로 첫번째 것만 출력한다는 의미
- wc –l FILENAME | cut -d ' ' -f 1     # 라인수만 획득 (파일명은 보이지 않음) : 공백을 기준으로 끊어서 첫번째 것만 출력한다는 의미
- wc *.c     # 여러 파일 입력 시 합계 출력



## 05. nl

### 설명

- 파일 내용을 라인 넘버와 함께 출력

  

### 자주 사용되는 옵션

- -ba   : 모든 라인에 대한 라인 넘버링
  - ba를 쓰지않으면, 줄의 내용이 공백인 경우는 라인에 숫자가 출력되지 않는다.
  - ba를 쓰면, 공백까지 포함해서 라인이 넘버링 됨
- -v N   : 시작 라인 넘버를 N으로 지정
- -s   : 라인 넘버 출력 후 출력할 separator 지정



### 사용예제

- cat FILENAME
- cat FILENAME | nl
- nl FILENAME
- nl -ba FILENAME   
- nl -ba -s ":   " FILENAME
- nl -ba -s ":   " FILENAME | tail



## 06. sort

### 설명

- 정력하여 출력

  

### 자주 사용되는 옵션

##### 사용법

- F\[ .C ]\[OPTS]\[,F[ .C ]\[OPTS]]
  - F : field number
  - C : character position
  - OPTS : ordering option

##### 위치 지정

- -k, --key=KEYDEF   : key에 의한 정렬 수행
- -t, --field-seperator   : 필드 구분자 지정(기본 값은 공백 문자)

##### 정렬기준

- -f, --ignore-case   : 대소문자 구분 X
- -g, --general-numeric-sort
- -n, --numeric-sort   : 숫자로 인식해서 sort) ex) 91과 123 : 123이 더 크다고 인식 (이 옵션이 없으면 123이 더 작은 걸로 인식 : 1과 9 비교)
- -r, --reverse   : 거꾸로 
- -u, --unique   : sort 후 같은 내용의 라인이 여러개 있을 경우 하나만 출력한다.

### 사용예제

- sort /etc/passwd    # 가장 앞줄의 문자를 기준으로 정렬
- cat /etc/passwd | sort # 가장 앞줄의 문자를 기준으로 정렬된 결과를 출력함
- sort /etc/passwd –t: –k 3   # ':' 을 기준으로 column을 설정하고 3번째 column을 기준으로 정렬함 (-t:가 없을 경우 디폴트 값인 공백을 기준으로 column을 나눔)
- sort /etc/passwd –n –t: -k 3 #수로 비교함
- sort /etc/passwd –n –t: -k 3 --debug  # 정렬 기준을 표시해줌
- sort /etc/passwd –t: -k 3,3 #3번째에서 3째 컬럼까지만 고려해서 sorting
- sort /etc/passwd -t: -k 4,4 -k 3,3 #4번째 컬럼을 1순위, 3번쨰 컬럼을 2순위로 해서 sorting
- ls –al | sort   # 첫 칼럼으로 소팅
- ls –al | sort –k 5n   #파일 사이즈로 소팅(5번째)